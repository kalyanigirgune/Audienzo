<nav class="navbar navbar-expand-lg fixed-top custom-navbar">
    <div class="container">
        <a class="navbar-brand" href="/">Audienzo</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
            aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <a class="nav-link" href="/" id="home-link">Home</a>
                </li>
                
                <% if (user) { %>
                    <li class="nav-item">
                        <a class="nav-link" href="/add-conference" id="add-event-link">Add Event</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/dashboard" id="dashboard-link">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/logout">Logout</a>
                    </li>
                <% } else { %>
                    <li class="nav-item">
                        <a class="nav-link" href="#features">Features</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contact">Contact</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link login-btn" href="/login" id="login-link">Login</a>
                    </li>
                <% } %>
            </ul>
        </div>
    </div>
</nav>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        let currentPath = window.location.pathname;  // Get current URL path
        
        // Define the navbar link mapping
        let navLinks = {
            "/": document.getElementById("home-link"),
            "/dashboard": document.getElementById("dashboard-link"),
            "/add-conference": document.getElementById("add-event-link"),
            "/login": document.getElementById("login-link"),
        };

        // Add 'active' class to the matched link
        if (navLinks[currentPath]) {
            navLinks[currentPath].classList.add("active");
        }
    });
</script>
